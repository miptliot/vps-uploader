!function(a){"use strict";var b=function(b,c){function d(a,b){if(0==a)return"0 Byte";var c=1024,d=b+1||3,e=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],f=Math.floor(Math.log(a)/Math.log(c));return(a/Math.pow(c,f)).toPrecision(d)+" "+e[f]}var e=function(b,c){return this.text=a("<span/>"),this.bar=a("<div/>").addClass("progress-bar").attr("role","progressbar").attr("aria-valuemin","0").attr("aria-valuemax","100").append(this.text),this.set(0),b.append(a("<div/>").addClass("progress").append(this.bar)),this};e.prototype.set=function(a){0>a&&(a=0),a>100&&(a=100),this.bar.attr("aria-valuenow",a).css("width",a+"%"),this.text.html(a+"%")};var f=function(b,c){this.input=a("<input/>").attr("type","file"),this.btn=a("<div/>").addClass("btn btn-default vu-file").append(a("<span/>").html("Select file")).append(this.input),this.name=a("<span/>").addClass("vu-file-name"),this.size=a("<span/>").addClass("vu-file-size");var d=this,e=a("<span/>").addClass("vu-file-remove").click(function(){d.remove()}).html("&times;").attr("title","Remove file");return this.info=a("<div/>").addClass("vu-file-info").append(e).append(this.name).append(this.size).hide(),b.append(this.btn).append(this.info),this};f.prototype.clearData=function(){this.info.hide()},f.prototype.setData=function(a,b){this.name.html(a),this.size.html(d(b)),this.btn.children("span").html("Change file"),this.info.show()},f.prototype.remove=function(){this.input.remove(),this.input=a("<input/>").attr("type","file"),this.btn.append(this.input),this.btn.children("span").html("Select file"),h.removeFile(h.files[0]),h.assignBrowse(this.input),this.clearData()};var g=(new e(b.find(".vu-progress")),new f(b.find(".vu-select"))),h=new Flow({target:c.target,uploadMethod:"POST",chunkSize:c.chunksize,maxFiles:1,simultaneousUploads:20,query:c.query});return h.on("fileAdded",function(a,b){g.setData(a.name,a.size)}),h.on("fileRemoved",function(a){}),h.assignBrowse(g.input),this};b.prototype.defaults={extensions:null},a.fn.uploader=function(c){return this.each(function(){c=a.extend(!0,{},b.prototype.defaults,c),b(a(this),c)})}}(jQuery);